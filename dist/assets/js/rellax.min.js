!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,(function(){var e=function(t,o){"use strict";var n=Object.create(e.prototype),r=0,i=0,a=0,l=0,s=[],p=!0,d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},c=null,m=!1;try{var u=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(e){}var w=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,f=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();n.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},o&&Object.keys(o).forEach((function(e){n.options[e]=o[e]})),t||(t=".rellax");var v="string"==typeof t?document.querySelectorAll(t):[t];if(v.length>0){if(n.elems=v,n.options.wrapper&&!n.options.wrapper.nodeType){var x=document.querySelector(n.options.wrapper);if(!x)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");n.options.wrapper=x}var h=function(){for(var e=0;e<s.length;e++)n.elems[e].style.cssText=s[e].style;s=[],i=window.innerHeight,l=window.innerWidth,y(),function(){for(var e=0;e<n.elems.length;e++){var t=g(n.elems[e]);s.push(t)}}(),T(),p&&(window.addEventListener("resize",h),p=!1,z())},g=function(e){var t=e.getAttribute("data-rellax-percentage"),o=e.getAttribute("data-rellax-speed"),r=e.getAttribute("data-rellax-vertical-speed"),a=e.getAttribute("data-rellax-horizontal-speed"),s=e.getAttribute("data-rellax-vertical-scroll-axis"),p=e.getAttribute("data-rellax-horizontal-scroll-axis"),d=e.getAttribute("data-rellax-zindex")||0,c=e.getAttribute("data-rellax-min"),m=e.getAttribute("data-rellax-max"),u=e.getAttribute("data-rellax-min-x"),w=e.getAttribute("data-rellax-max-x"),f=e.getAttribute("data-rellax-min-y"),v=e.getAttribute("data-rellax-max-y"),x=n.options.wrapper?n.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;n.options.relativeToWrapper&&(x=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-n.options.wrapper.offsetTop);var h=n.options.vertical&&(t||n.options.center)?x:0,g=n.options.horizontal&&(t||n.options.center)?n.options.wrapper?n.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,y=h+e.getBoundingClientRect().top,A=e.clientHeight||e.offsetHeight||e.scrollHeight,z=g+e.getBoundingClientRect().left,T=e.clientWidth||e.offsetWidth||e.scrollWidth,E=t||(h-y+i)/(A+i),L=t||(g-z+l)/(T+l);n.options.center&&(L=.5,E=.5);var S=o||n.options.speed,O=r||n.options.verticalSpeed,Y=a||n.options.horizontalSpeed,X=s||n.options.verticalScrollAxis,R=p||n.options.horizontalScrollAxis,W=b(L,E,S,O,Y),q=e.style.cssText,F="",k=/transform\s*:/i.exec(q);if(k){var C=k.index,M=q.slice(C),j=M.indexOf(";");F=j?" "+M.slice(11,j).replace(/\s/g,""):" "+M.slice(11).replace(/\s/g,"")}return{baseX:W.x,baseY:W.y,top:y,left:z,height:A,width:T,speed:S,verticalSpeed:O,horizontalSpeed:Y,verticalScrollAxis:X,horizontalScrollAxis:R,style:q,transform:F,zindex:d,min:c,max:m,minX:u,maxX:w,minY:f,maxY:v}},y=function(){var e=r,t=a;if(r=n.options.wrapper?n.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,a=n.options.wrapper?n.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,n.options.relativeToWrapper){var o=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;r=o-n.options.wrapper.offsetTop}return!(e==r||!n.options.vertical)||!(t==a||!n.options.horizontal)},b=function(e,t,o,r,i){var a={},l=(i||o)*(100*(1-e)),s=(r||o)*(100*(1-t));return a.x=n.options.round?Math.round(l):Math.round(100*l)/100,a.y=n.options.round?Math.round(s):Math.round(100*s)/100,a},A=function(){window.removeEventListener("resize",A),window.removeEventListener("orientationchange",A),(n.options.wrapper?n.options.wrapper:window).removeEventListener("scroll",A),(n.options.wrapper?n.options.wrapper:document).removeEventListener("touchmove",A),c=d(z)},z=function(){y()&&!1===p?(T(),c=d(z)):(c=null,window.addEventListener("resize",A),window.addEventListener("orientationchange",A),(n.options.wrapper?n.options.wrapper:window).addEventListener("scroll",A,!!m&&{passive:!0}),(n.options.wrapper?n.options.wrapper:document).addEventListener("touchmove",A,!!m&&{passive:!0}))},T=function(){for(var e,t=0;t<n.elems.length;t++){var o=s[t].verticalScrollAxis.toLowerCase(),p=s[t].horizontalScrollAxis.toLowerCase(),d=-1!=o.indexOf("x")?r:0,c=-1!=o.indexOf("y")?r:0,m=-1!=p.indexOf("x")?a:0,u=(c+(-1!=p.indexOf("y")?a:0)-s[t].top+i)/(s[t].height+i),w=(d+m-s[t].left+l)/(s[t].width+l),v=(e=b(w,u,s[t].speed,s[t].verticalSpeed,s[t].horizontalSpeed)).y-s[t].baseY,x=e.x-s[t].baseX;null!==s[t].min&&(n.options.vertical&&!n.options.horizontal&&(v=v<=s[t].min?s[t].min:v),n.options.horizontal&&!n.options.vertical&&(x=x<=s[t].min?s[t].min:x)),null!=s[t].minY&&(v=v<=s[t].minY?s[t].minY:v),null!=s[t].minX&&(x=x<=s[t].minX?s[t].minX:x),null!==s[t].max&&(n.options.vertical&&!n.options.horizontal&&(v=v>=s[t].max?s[t].max:v),n.options.horizontal&&!n.options.vertical&&(x=x>=s[t].max?s[t].max:x)),null!=s[t].maxY&&(v=v>=s[t].maxY?s[t].maxY:v),null!=s[t].maxX&&(x=x>=s[t].maxX?s[t].maxX:x);var h=s[t].zindex,g="translate3d("+(n.options.horizontal?x:"0")+"px,"+(n.options.vertical?v:"0")+"px,"+h+"px) "+s[t].transform;n.elems[t].style[f]=g}n.options.callback(e)};return n.destroy=function(){for(var e=0;e<n.elems.length;e++)n.elems[e].style.cssText=s[e].style;p||(window.removeEventListener("resize",h),p=!0),w(c),c=null},h(),n.refresh=h,n}console.warn("Rellax: The elements you're trying to select don't exist.")};return e}));